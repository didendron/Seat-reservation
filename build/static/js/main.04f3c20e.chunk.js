(this.webpackJsonpzadanie_rekrutacyjne=this.webpackJsonpzadanie_rekrutacyjne||[]).push([[0],{25:function(l,e,n){},26:function(l,e,n){},32:function(l,e,n){},36:function(l,e,n){"use strict";n.r(e);var t=n(0),c=n.n(t),u=n(12),a=n.n(u),s=(n(25),n(20)),r=n(3),i=(n(26),n(4)),o=n(16),d=n.n(o),j=n(19),b=n(11),m=Object(b.b)("seats/fetchSeats",Object(j.a)(d.a.mark((function l(){var e,n;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch("https://seat-reservation-my-app.herokuapp.com/seats");case 2:return e=l.sent,l.next=5,e.json();case 5:return n=l.sent,l.abrupt("return",n);case 7:case"end":return l.stop()}}),l)})))),f=Object(b.c)({name:"seats",initialState:{allSeats:[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],isRowOfSeats:!1,numberOfSelectedSeats:0},reducers:{selectSeats:function(l,e){l.allSeats[e.payload.cords.y][e.payload.cords.x].selected=!e.payload.selected},clearSelection:function(l){l.allSeats.forEach((function(e,n){e.forEach((function(e,t){l.allSeats[n][t]&&l.allSeats[n][t].selected&&(l.allSeats[n][t].selected=!1)}))})),l.isRowOfSeats=!1,l.numberOfSelectedSeats=0},changeStatusOfSeats:function(l){l.isRowOfSeats=!l.isRowOfSeats},changeNumberOfSeats:function(l,e){l.numberOfSelectedSeats=e.payload}},extraReducers:function(l){l.addCase(m.pending,(function(l,e){})).addCase(m.fulfilled,(function(l,e){e.payload.forEach((function(e){l.allSeats[e.cords.y][e.cords.x]=e,l.allSeats[e.cords.y][e.cords.x].selected=!1,l.isRowOfSeats=!1,l.numberOfSelectedSeats=0}))}))}}),h=function(l){return l.seats.allSeats},O=function(l){return l.seats.numberOfSelectedSeats},v=function(l){return l.seats.isRowOfSeats},x=f.actions,p=x.selectSeats,S=x.clearSelection,y=x.changeStatusOfSeats,N=x.changeNumberOfSeats,g=f.reducer,w=n(1);var k=function(l){var e=Object(i.b)(),n=Object(i.c)(O),c=Object(i.c)(v),u=Object(i.c)(h);Object(t.useEffect)((function(){e(S())}),[e]);var a=function(){var l=[];if(c)for(var e=0;e<15-n;e++)for(var t=0;t<10-n;t++){for(var a=0;a<n;a++)null==u[e+a][t]||u[e+a][t].reserved||l.push(u[e+a][t]);if(l.length===Number(n))return void s(l);l=[];for(var r=0;r<n;r++)null==u[e][t+r]||u[e][t+r].reserved||l.push(u[e][t+r]);if(l.length===Number(n))return void s(l);l=[]}else for(var i=0;i<15;i++)for(var o=0;o<10;o++)if(null==u[i][o]||u[i][o].reserved||l.push(u[i][o]),l.length===Number(n))return void s(l)},s=function(l){l.forEach((function(l){e(p(l))}))};return Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("div",{className:"row justify-content-around",children:Object(w.jsx)("div",{className:"col-sm-3 ",children:Object(w.jsxs)("form",{className:"col mt-5 ",children:[Object(w.jsxs)("div",{className:"form-group row",children:[Object(w.jsx)("label",{htmlFor:"placesNumber",className:" col col-form-label",children:"Liczba miejsc:"}),Object(w.jsx)("div",{className:"col ",children:Object(w.jsx)("input",{type:"text",className:"form-control",id:"placesNumber",onChange:function(l){e(N(l.target.value))}})})]}),Object(w.jsx)("div",{className:"checkbox mt-4 col",children:Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"checkbox",onChange:function(l){e(y())}})," Czy miejsca maj\u0105 by\u0107 obok siebie?"]})}),Object(w.jsx)("div",{className:"mt-4 col",children:Object(w.jsx)("button",{type:"submit",className:"btn btn-primary w-100",onClick:function(e){return e.preventDefault(),a(),void l.history.push("/board")},children:"Wybierz miejsca"})})]})})})})};n(32);var z=function(l){var e=Object(i.b)(),n=Object(i.c)(h);return Object(t.useEffect)((function(){!function(){for(var l=0;l<n.length;l++)for(var e=0;e<n[l].length;e++)if(null!=n[l][e]&&n[l][e].selected){var t=15*n[l][e].cords.y+n[l][e].cords.x;document.getElementById(t).style.backgroundColor="orange"}}()})),Object(w.jsxs)("div",{className:"mycontainer",children:[n.map((function(l,t){return Object(w.jsx)("div",{className:"squares",children:l.map((function(l,c){return null!=n[t][c]?Object(w.jsx)("div",{className:n[t][c].reserved?"blackSquare":"square",id:15*t+c,onClick:function(l){return u=l,void((a=n[t][c]).reserved||(a.selected?u.target.style.backgroundColor="white":u.target.style.backgroundColor="orange",e(p(a))));var u,a}},15*t+c):Object(w.jsx)("div",{className:"hiddenSquare"},15*t+c)}))},t+1e3)})),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-1",children:Object(w.jsx)("div",{className:"square"})}),Object(w.jsx)("div",{className:"col-sm-2 d-flex align-items-center",children:"Miejsca dost\u0119pne"}),Object(w.jsx)("div",{className:"col-sm-1",children:Object(w.jsx)("div",{className:"blackSquare"})}),Object(w.jsx)("div",{className:"col-sm-3 d-flex align-items-center ",children:"Miejsca zarezerwowane"}),Object(w.jsx)("div",{className:"col-sm-1",children:Object(w.jsx)("div",{className:"orangeSquare"})}),Object(w.jsx)("div",{className:"col-sm d-flex align-items-center ",children:"Tw\xf3j wyb\xf3r"}),Object(w.jsx)("div",{className:"col-sm d-flex align-items-center",children:Object(w.jsx)("button",{type:"submit",className:"btn btn-secondary btn-lg ",onClick:function(e){return e.preventDefault(),void l.history.push("/summary")},children:"Rezerwuj"})})]})]})};var C=function(){var l=Object(i.c)(h);return Object(w.jsxs)("div",{className:"container ml-5 mt-5",children:[Object(w.jsx)("h3",{children:"Twoja rezerwacja przebieg\u0142a pomy\u015blnie!"}),Object(w.jsx)("p",{className:"fs-3 mt-3",children:"Wybra\u0142e\u015b miejsca:"}),Object(w.jsx)("ul",{className:"fs-3",children:l.map((function(e,n){return Object(w.jsx)("div",{children:e.map((function(e,t){return null!=l[n][t]&&l[n][t].selected?Object(w.jsxs)("li",{children:["rz\u0105d ",t,", miejsce ",n," (",l[n][t].id,")"]},15*n+t):null}))},n+1e3)}))}),Object(w.jsx)("h5",{className:"mt-5",children:"Dzi\u0119kujemy! W razie problem\xf3w prosimy o kontakt z dzia\u0142em administracji."})]})};var E=function(){var l=Object(i.b)();return Object(t.useEffect)((function(){l(m())}),[l]),Object(w.jsxs)(s.a,{children:[Object(w.jsx)(r.a,{exact:!0,path:"/",component:k}),Object(w.jsx)(r.a,{path:"/board",component:z}),Object(w.jsx)(r.a,{path:"/summary",component:C})]})},R=Object(b.a)({reducer:{seats:g}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(35);a.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(i.a,{store:R,children:Object(w.jsx)(E,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(l){l.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.04f3c20e.chunk.js.map